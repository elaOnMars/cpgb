VPATH = ../../src/cpgb
IOPTS = -I../include
LOPTS = -L../lib -lnacl
OBJS = ../lib/randombytes.o
COPTS = -std=c99
%.o : %.c
	$(compiler) $(COPTS) $(IOPTS) -c $? -o $@
#TODO: Make this reliable.
% : %.o
	$(compiler) $(IOPTS) $(LOPTS) $^ $(OBJS) -o $@

all : keygen sign verify encrypt decrypt sign-detached verify-detached \
	encrypt-passphrase
keygen : keygen.o slurp.o
sign : sign.o slurp.o
verify: verify.o slurp.o
encrypt: encrypt.o slurp.o
decrypt: decrypt.o slurp.o
sign-detached: sign-detached.o slurp.o
verify-detached: verify-detached.o slurp.o
encrypt-passphrase: encrypt-passphrase.o slurp.o romix.o
.PHONY clean:
	rm *
